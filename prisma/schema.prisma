// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Usuario {
  id          String        @id @default(uuid())
  nome        String
  email       String     @unique
  senha       String
  inscricoes  Inscricao[]
  presencas   Presenca[]
}

model Evento {
  id            String         @id @default(uuid())
  nome          String
  descricao     String
  dataHora      DateTime
  participantes Inscricao[]
  presencas     Presenca[]
}

model Inscricao {
  id        String       @id @default(uuid())
  usuario   Usuario   @relation(fields: [usuarioId], references: [id])
  evento    Evento    @relation(fields: [eventoId], references: [id])
  usuarioId String
  eventoId  String
}

model Presenca {
  id             String        @id @default(uuid())
  evento         Evento     @relation(fields: [eventoId], references: [id])
  participante   Usuario    @relation(fields: [participanteId], references: [id])
  eventoId  String
participanteId String
  dataHora       DateTime
}

model Log {
  id        String      @id @default(uuid())
  endpoint  String
  metodo    String
  dataHora  DateTime @default(now())
}

